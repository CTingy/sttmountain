{% extends "event_home.html" %}

{% macro render_field(label, field_name, placeholder="", required=False) %}
<div class="form-group">
  <label>{{ label }}</label>
  <input {% if required %}required{% endif %} type="text" class="form-control" name="{{ field_name }}"
    value="{% if member|attr(field_name) %}{{ member|attr(field_name) }}{% endif %}" placeholder="{{ placeholder }}">
  {% if errors[field_name] %}
  <span style="color: red; font-size: 10px;">{{ errors[field_name] }}</span>
  {% endif %}
</div>
{% endmacro %}

{% block page_name %}
出隊提案檢視、修改
{% endblock %}

{% macro render_field(field, width=6, placeholder="") %}
<div class="form-group col-md-{{ width }} col-sm-{{ width }} col-xs-12">
  <!-- <input type="email" class="form-control" placeholder="Email"> -->
  {{ field.label }}
  <br>
  {% if placeholder %}
  {{ field(class_='form-control', placeholder=placeholder) }}
  {% else %}
  {{ field(class_='form-control') }}
  {% endif %}
  {% if field.errors %}
  {% for error in field.errors %}
  <span style="color: red; font-size: 10px;">{{ error }}</span>
  {% endfor %}
  {% endif %}
</div>
{% endmacro %}

{% block sub_content %}

<ul class="nav nav-tabs">
  <li class="active"><a data-toggle="tab" href="#home">隊伍基本資料</a></li>
  <li><a data-toggle="tab" href="#menu1">預計行程</a></li>
  <li><a data-toggle="tab" href="#menu2">詳細人員資料</a></li>
  <li><a data-toggle="tab" href="#menu3">裝備表</a></li>
  <li><a data-toggle="tab" href="#menu4">行前會</a></li>
</ul>

<div class="tab-content">
  <div id="home" class="tab-pane fade in active">
    <!-- 基本資料 -->
    <h4 class="text-center">開隊請先填寫隊伍基本資料</h4>
    <br>
    <p class="text-center">
      必填為：<b>隊伍名稱、上山日期、預計天數、領隊</b>，表格內容均可再更改
      <br>
      {{ form.csrf_token }}
      {{ render_field(form.title, 10, "必填欄位") }}
      {{ render_field(form.event_type, 2) }}
      {{ render_field(form.start_date, 5, "必填欄位") }}
      {{ render_field(form.days, 5, "必填欄位") }}
    <div class="form-check col-md-2">
      <label class="form-check-label" for="exampleCheck1">有交通天</label>
      <br>
      <input type="checkbox" class="form-check-input" id="exampleCheck1" name="has_d0" value="y">
      {% if form.has_d0.errors %}<span
        style="color: red; font-size: 10px;">{{ form.has_d0.errors[0] }}</span>{% endif %}
    </div>
    <div class="form-group col-md-4 col-sm-4 col-xs-12">
      <label for="leader">領隊</label>
      <br>
      <input name="leader" type="text" class="searchMember form-control" value="{{ leader }}"
        placeholder="必填欄位，請輸入姓名" />
      {% if form.leader.errors %}<span
        style="color: red; font-size: 10px;">{{ form.leader.errors[0] }}</span>{% endif %}
    </div>
    <div class="form-group col-md-4 col-sm-4 col-xs-12">
      <label for="guide">嚮導</label>
      <br>
      <input name="guide" type="text" class="searchMember form-control" value="{{ guide }}" placeholder="請輸入姓名" />
      {% if form.guide.errors %}<span style="color: red; font-size: 10px;">{{ form.guide.errors[0] }}</span>{% endif %}
    </div>
    {{ render_field(form.supporter, 4) }}
    <div class=" form-group col-md-12 col-sm-12 col-xs-12">
      <label for="attendees">成員</label>
      <br>
      <input id="attendees" class="searchMultiMember form-control" type="text" name="attendees" value="{{ attendees }}">
    </div>
    {{ render_field(form.radio, 6, "例如：144.28/藍天藍") }}
    {{ render_field(form.satellite_telephone, 6, "例如：6號機、+882314657982") }}
    {{ render_field(form.gathering_point, 6, "例如：光口") }}
    {{ render_field(form.gathering_time, 6, "例如：2020/04/15 08:05") }}
    <div class=" form-group col-md-10 col-sm-12 col-xs-12">
      <label for="return_plan">撤退計畫</label>
      <br>
      <textarea class="form-control" name="return_plan" id="return_plan" rows="5" value=""></textarea>
      {% if form.guide.errors %}<span style="color: red; font-size: 10px;">{{ form.guide.errors[0] }}</span>{% endif %}
    </div>
    {{ render_field(form.buffer_days, 2, "預設1天") }}
    <!-- 基本資料end -->
  </div>
  <div id="menu1" class="tab-pane fade">
    <!-- 詳細人員資料 -->

    <!-- 詳細人員資料end -->
  </div>
  <div id="menu2" class="tab-pane fade">
  </div>
  <div id="menu3" class="tab-pane fade">
  </div>
  <div id="menu4" class="tab-pane fade">
  </div>
</div>



{% endblock %}
